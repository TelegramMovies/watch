(()=>{"use strict";const e="function"==typeof Buffer,t="function"==typeof TextDecoder?new TextDecoder:void 0,r=("function"==typeof TextEncoder&&new TextEncoder,Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")),o=(e=>{let t={};return e.forEach(((e,r)=>t[e]=r)),t})(r),a=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,n=String.fromCharCode.bind(String),c="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),l=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),i=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,s=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return n((t>>>10)+55296)+n(56320+(1023&t));case 3:return n((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return n((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},d="function"==typeof atob?e=>atob(l(e)):e?e=>Buffer.from(e,"base64").toString("binary"):e=>{if(e=e.replace(/\s+/g,""),!a.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,r,c,l="";for(let a=0;a<e.length;)t=o[e.charAt(a++)]<<18|o[e.charAt(a++)]<<12|(r=o[e.charAt(a++)])<<6|(c=o[e.charAt(a++)]),l+=64===r?n(t>>16&255):64===c?n(t>>16&255,t>>8&255):n(t>>16&255,t>>8&255,255&t);return l},f=e?e=>c(Buffer.from(e,"base64")):e=>c(d(e).split("").map((e=>e.charCodeAt(0)))),h=e?e=>Buffer.from(e,"base64").toString("utf8"):t?e=>t.decode(f(e)):e=>d(e).replace(i,s),p=e=>h(l(e.replace(/[-_]/g,(e=>"-"==e?"+":"/"))));Telegram.WebApp.ready(),"undefined"!=typeof TelegramWebviewProxy?async function(){const e=function(e){const t=new URL(e),r=new URLSearchParams(t.search),o={};r.forEach(((e,t)=>{o[t]=e}));try{return JSON.parse(p(o.tgWebAppStartParam))}catch(e){return!1}}(window.location.href);e?(console.log("SEARCH: "+e.search),kbox(".kinobox_player",{search:{kinopoisk:e.search},menu:{enable:!1,open:!1},players:{alloha:{enable:!0,position:1},turbo:{enable:!0,position:2},kodik:{enable:!0,position:3}},params:{alloha:{autoplay:526===e.search?1:0,debug:526===e.search?1:0}}})):(console.log("CANT SEARCH: "+e.search),function(){const e=document.createElement("p");e.innerHTML="–ù–µ—Ç –ø–æ–∏—Å–∫–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. –ù–∞–∂–º–∏—Ç–µ üîç –ü–æ–∏—Å–∫ –≤ –±–æ—Ç–µ",e.style.color="white",e.style.fontSize="1em",e.style.fontFamily="sans-serif",e.style.textAlign="center",e.style.position="absolute",e.style.zIndex=1,document.body.appendChild(e),document.body.style.display="grid",document.body.style.placeItems="center"}())}():window.location.href="about:blank"})();